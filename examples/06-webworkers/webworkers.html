<html>
    <head>
        <title>JavaScript Does THAT!? Examples</title>
        <link href="../base/main.css" type="text/css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script type="text/javascript" src="../base/demo.js"></script>
        <script type="text/javascript" src="webworkers.js"></script>
    </head>

    <body>
        
        <header>
            <h1>Web Workers</h1>
            <p><a href="../../index.html">Return to Main Menu</a></p>
        </header>

        <div class="content">

            <div class="card">

                <h2>What are <span class="mono">Web Workers</span>?</h2>
                <p>Provides background thread execution of JavaScript (in a separate file).</p>

                <h2>Why should you use <span class="mono">Web Workers</span>?</h2>
                <p>Long-running code that may interfere with the browser's main thread (UI, etc.) can be moved to a web worker.</p>

            </div>

            <div class="card">
                <h2>Permission Required?</h2>
                <p>No.</p>

                <h2>Browser Support</h2>
                <p class="browser-support"><img src="../base/icons/good.svg" alt="Good browser support." /><span>Good</span> - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker/Worker#browser_compatibility" target="_blank">Supported Browsers on MDN</a></p>
            </div>

            <div class="card">

                <h2>Demo: pass messages to/from a Web Worker</h2>

                <button type="button" onclick="Demo.Webworkers.create();">Create Worker</button>
                <p>Create a new worker ("worker.js"), send a message to it ("Hello, web worker!"), and receive a message back ("Hello, boring old JS thread.").</p>
                
            </div>

            <div class="card">
                
                <h2>Demo: calculate prime numbers</h2>

                <div class="row">
                    <input type="number" max="100000000" id="PrimeLimit" value="100000" /><label for="PrimeLimit" style="margin-left: 1em;">Prime Limit (max 100,000,000)</label><br/>
                </div>
                <button type="button" onclick="Demo.Webworkers.calculatePrimes();">Calculate</button>
                <p>Because workers spawn in a new thread, long-running processes can execute without disrupting the browser event loop.</p>

            </div>

            <div class="card">

                <h2>Demo: send a notifaction</h2>

                <button type="button" onclick="Demo.Webworkers.sendNotification();">Send Notification</button>
                <p>A long-running worker can act as a background process, handling things like notifications when necessary. This will trigger a device-native notification after five (5) seconds.</p>
                
            </div>

            <div class="card">
                <div id="Console" class="output code"></div>
            </div>

        </div>

    </body>
</html>